"use strict";(self.webpackChunkmtrh_eboard=self.webpackChunkmtrh_eboard||[]).push([[5624],{95624:function(e,o,n){n.r(o);n(72791);var t=n(16094),r=n(61436),a=n(80184);o.default=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"JWT"}),(0,a.jsx)("p",{children:"Eboard provide a set of code to let you work with JWT authentication & API with the server application, integration process is described below."}),(0,a.jsxs)("p",{children:["We are using ",(0,a.jsx)("code",{children:"localStorage"})," & Redux to store tokens info and authenticate the user."]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{children:"Interceptor"}),(0,a.jsxs)("p",{children:["We provided a request & response interceptor built by",(0,a.jsx)("a",{href:"https://github.com/axios/axios",children:" axios"}),", which able to found in ",(0,a.jsx)("code",{children:"src/auth/FetchInterceptor.js"}),". With this interceptor, every API call from client side will contain access token inside requeest header. You can customize your request config or error handling in this file."]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{children:"Services"}),(0,a.jsxs)("p",{children:["In order to facilitate manage and maintain, we placed all API integrations related files in ",(0,a.jsx)("code",{children:"src/services/"})," folder. Linked up with interceptor above, you can found a preset ",(0,a.jsx)("code",{children:"AuthService.js"})," under the directory, code as below:"]}),(0,a.jsx)(t.Z,{className:"hl-code",language:"javascript",style:r.Z,children:"import fetch from 'auth/FetchInterceptor'\n\nconst AuthService = {}\n\nAuthService.login = function (params) {\n  return fetch({\n    url: '/auth/login',\n    method: 'post',\n    params\n  })\n}\n\nexport default AuthService"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{children:"Usage"}),(0,a.jsx)("p",{children:"You can call the service in authSlice.js:"}),(0,a.jsx)(t.Z,{className:"hl-code",language:"javascript",style:r.Z,children:"import AuthService from 'services/AuthService';\n\nexport const signIn = createAsyncThunk('auth/signIn',async (data, { rejectWithValue }) => {\n\tconst { email, password } = data\n\tconst response = await AuthService.login({email, password})\n\tif (response.data) {\n\t\tconst token = response.data.token;\n\t\tlocalStorage.setItem(AUTH_TOKEN, response.data.token);\n\t\treturn token;\n\t} else {\n\t\treturn rejectWithValue(response.message);\n\t}\n})\n\n\nexport const authSlice = createSlice({\n\tname: 'auth',\n\t...\n})\n"}),(0,a.jsx)("p",{children:"And handle the dispatch it in your component:"}),(0,a.jsx)(t.Z,{className:"hl-code",language:"javascript",style:r.Z,children:"import { signIn } from 'store/slices/authSlice';\nimport { useDispatch } from 'react-redux';\n\t\t\t\t\t\nexport const LoginForm = props => {\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLogin = ({email, password}) => {\n\t\tdispatch(signIn({email, password}))\n\t}\n\n\treturn (\n\t\t...\n\t)\n}"})]})]})}},61436:function(e,o){o.Z={'code[class*="language-"]':{color:"#c5c8c6",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#c5c8c6",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",borderRadius:"0.3em",background:"#1d1f21"},':not(pre) > code[class*="language-"]':{background:"#1d1f21",padding:".1em",borderRadius:".3em"},comment:{color:"#7C7C7C"},prolog:{color:"#7C7C7C"},doctype:{color:"#7C7C7C"},cdata:{color:"#7C7C7C"},punctuation:{color:"#c5c8c6"},".namespace":{Opacity:".7"},property:{color:"#96CBFE"},keyword:{color:"#96CBFE"},tag:{color:"#96CBFE"},"class-name":{color:"#FFFFB6",textDecoration:"underline"},boolean:{color:"#99CC99"},constant:{color:"#99CC99"},symbol:{color:"#f92672"},deleted:{color:"#f92672"},number:{color:"#FF73FD"},selector:{color:"#A8FF60"},"attr-name":{color:"#A8FF60"},string:{color:"#A8FF60"},char:{color:"#A8FF60"},builtin:{color:"#A8FF60"},inserted:{color:"#A8FF60"},variable:{color:"#C6C5FE"},operator:{color:"#EDEDED"},entity:{color:"#FFFFB6",cursor:"help"},url:{color:"#96CBFE"},".language-css .token.string":{color:"#87C38A"},".style .token.string":{color:"#87C38A"},atrule:{color:"#F9EE98"},"attr-value":{color:"#F9EE98"},function:{color:"#DAD085"},regex:{color:"#E9C062"},important:{color:"#fd971f",fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}}}}]);
//# sourceMappingURL=5624.370c6f98.chunk.js.map